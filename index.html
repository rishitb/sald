<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>SALD by rishitb</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>SALD</h1>
        <h2>Studio A Ludum Dare</h2>

        <section id="downloads">
          <a href="https://github.com/rishitb/sald/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/rishitb/sald/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/rishitb/sald" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="sald" class="anchor" href="#sald" aria-hidden="true"><span class="octicon octicon-link"></span></a>sald</h1>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Fork this repo into desired location then from command line run</p>

<pre><code>npm link
</code></pre>

<p>Note: sudo may be required on Mac or Linux, or the command prompt may need to be
run as administrator on Windows.</p>

<p>Note: The current version of node.js for windows has a bug. If you receive an
ENOENT error, check <a href="http://stackoverflow.com/questions/25093276/node-js-windows-error-enoent-stat-c-users-rt-appdata-roaming-npm">here</a></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<pre><code>sald [command] args
  commands
    new/create [dir] - create a new sald project
    build - build sald project in cwd based on build.js
</code></pre>

<p>You will want to use <code>sald create myProjName</code> to create a starter project. It is not
recommended to do this in the sald directory.</p>

<h2>
<a id="buildjs" class="anchor" href="#buildjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>build.js</h2>

<p>The build.js file must be in the current working directory when calling sald build.
This file should export an object which specifies the output location, entry point, and the method for handling custom file types.</p>

<h3>
<a id="example-buildjs" class="anchor" href="#example-buildjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example build.js</h3>

<pre><code>// Load an image file from file = {name,data}
function loadImage(file) {
  var script = [
    'var img = new Image();',
    'img.src = "data:' + this.mime + ';' + this.encoding + ',' + file.data + '";',
    'module.exports = img;'
  ].join('\n');
  return script;
}

// Load an audio file from file = {name,data}
function loadAudio(file) {
  return 'module.exports = new Audio("data:' + this.mime + ';' + this.encoding + ',' + file.data + '");';
}

// Export build options
module.exports = {
  // Entry point for build
  entry :  {
    js : 'src/main.js',       //the script to be called
    html : 'src/main.html'    //will be used as template for final output
  },
  // Output options
  output : {
    html : 'build.html'  //location to output final built project
  },
  // Options for each file type
  files : {
    '.jpg' : {
      mime : 'image/jpg',   // mime type, used by loadImage
      encoding : 'base64',  // encode type, used by sald, defaults to utf8
      load: loadImage       // function which translates to node-style javascript
                            // should be of type {name,data} -&gt; string
    },
    '.png' : {
      mime : 'image/png',
      encoding : 'base64',
      load: loadImage
    },
    '.ogg' : {
      mime : 'audio/ogg',
      encoding : 'base64',
      load: loadAudio
    },
    '.wav' : {
      mime : 'audio/vnd.wave',
      encoding : 'base64',
      load: loadAudio
    }
  }
};
</code></pre>

<p>This build.js file will translate png and jpg images using loadImage and wav and ogg files using loadAudio.</p>
      </section>
    </div>

    
  </body>
</html>